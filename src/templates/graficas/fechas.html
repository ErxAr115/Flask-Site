{% extends './base.html' %}

{% block title %}Asistencia Virtual{% endblock %}

{% block customCSS %}
<style>
    .container{
        width: 500px;
        height: 500px;
    }
</style>
{% endblock %}

{% block body %}
<h1>Categorias entre fechas</h1>
<form action="/fechas" method="post">
    <label for="From">Fecha De Inicio:</label>
    <input type="date" name="From" id="From">
    <br>
    <label for="To">Fecha Final:</label>
    <input type="date" name="To" id="To">
    <br>
    <button type="submit">Buscar</button>
</form>

<div class="container">
    <canvas id="myChart"></canvas>
</div>

<script>
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'pie',
      data: {
          labels: [
              {% for row in data %}
                  "{{ row[0] }}",
              {% endfor %}
          ],
          datasets: [{
              label: 'Mensajes recibidos',
              data: [
                  {% for row in data %}
                      {{ row[1] }},
                  {% endfor %}
              ],
              backgroundColor: [
                'rgb(239, 71, 111)',
                'rgb(247, 140, 107)',
                'rgb(255, 209, 102)',
                'rgb(6, 214, 160)',
                'rgb(17, 138, 178)',
                'rgb(7, 59, 76)'
              ]
          }]
      }
  });
</script>
</script>
{% endblock %}